<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expansion Algorithm • expalg.cie</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Expansion Algorithm">
<meta property="og:description" content='Small-scale nearshore fisheries in the United States territories 
  of Guam, the Commonwealth of the Northern Mariana Islands (CNMI), and American 
  Samoa target reef, bottom, and nearshore pelagic species. These fisheries are 
  of fundamental importance to subsistence fishers, critical in local cultural 
  traditions, and provide a source of income and recreation to the local 
  population. "expalg.cie" was developed to assist the Center of Independent 
  Experts (CIE) review of the expansion algorithm and reproduces the case study 
  presented in the NOAA Tech Memo “Shore-based and boat-based fishing surveys in 
  Guam, the CNMI, and American Samoa: Survey design, expansion algorithm, and a 
  case study”.'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">expalg.cie</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/GuamBB_DBFields_Formulas.html">Guam Boat Based Expansion Database Fields</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PIFSCstockassessments/expalg.cie/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="expalgcie" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#expalgcie" class="anchor"></a>expalg.cie</h1></div>
<p><!-- badges: start --> <a href="https://github.com/PIFSCstockassessments/expalg.cie/actions/workflows/check-release.yaml"><img src="https://github.com/PIFSCstockassessments/expalg.cie/actions/workflows/check-release.yaml/badge.svg" alt="R-CMD-check"></a> <!-- badges: end --></p>
<p>Small-scale nearshore fisheries in the United States territories of Guam, the Commonwealth of the Northern Mariana Islands (CNMI), and American Samoa target reef, bottom, and nearshore pelagic species. These fisheries are of fundamental importance to subsistence fishers, critical in local cultural traditions, and provide a source of income and recreation to the local population. The R package <strong>expalg.cie</strong> is used to estimate annual catch and effort from boat-based fishing surveys in Guam.</p>
<p><strong>expalg.cie</strong> was developed to assist the Center of Independent Experts (CIE) review of the expansion algorithm and reproduces the case study presented in the NOAA Tech Memo <em>“Shore-based and boat-based fishing surveys in Guam, the CNMI, and American Samoa: Survey design, expansion algorithm, and a case study”</em>.</p>
</div>
<div id="package-installation" class="section level1">
<h1 class="hasAnchor">
<a href="#package-installation" class="anchor"></a>Package Installation</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org">remotes</a></span><span class="op">)</span>
<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"PIFSCstockassessments/expalg.cie@*release"</span><span class="op">)</span> <span class="co">#Latest Release </span></code></pre></div>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<p>The following instructions describe the steps to produce expansion outputs.</p>
<p>Run <code><a href="reference/run_expalg.html">run_expalg()</a></code> with the following parameters to execute the expansion algorithm:</p>
<table class="table">
<colgroup>
<col width="15%">
<col width="84%">
</colgroup>
<thead><tr class="header">
<th align="left">Parameter</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>pool_f</code></td>
<td align="left">defaults to <code>TRUE</code>, which indicates that interview pooling is used; change to <code>False</code> if pooling should not be used</td>
</tr>
<tr class="even">
<td align="left"><code>species</code></td>
<td align="left">defaults to <code>NA</code>, which indicates that the expansion is performed for all species; change to a vector of species keys if only specific species should be included</td>
</tr>
<tr class="odd">
<td align="left"><code>start_year</code></td>
<td align="left">The first year of the expansion to run (earliest available year is 1982)</td>
</tr>
<tr class="even">
<td align="left"><code>end_year</code></td>
<td align="left">The last year of the expansion to run (most recent available year is 2019)</td>
</tr>
</tbody>
</table>
<div id="data-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#data-tables" class="anchor"></a>Data Tables</h3>
<p><code><a href="reference/run_expalg.html">run_expalg()</a></code> contains all the methods necessary to run the Guam boat-based expansion algorithm. <code><a href="reference/run_expalg.html">run_expalg()</a></code> reads in eight CSV data files embedded in the installed package <code>extdata</code> subdirectory:</p>
<ul>
<li>CIE_sample_days_all_years.csv</li>
<li>CIE_reference_raw.csv</li>
<li>CIE_iwc_allyears.csv</li>
<li>CIE_catch_raw.csv</li>
<li>CIE_interviews_raw_pub.csv</li>
<li>CIE_days_allyears.csv</li>
<li>CIE_p1_allyears.csv</li>
<li>CIE_bl_allyears_pub.csv</li>
</ul>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The package includes results from the Guam boat-based expansion representing total catch (<code><a href="reference/g_bb_exp.html">expalg.cie::g_bb_exp</a></code>) and catch by species (<code><a href="reference/g_bb_spc.html">expalg.cie::g_bb_spc</a></code>). The vignette <em>“Guam Boat Based Expansion Database Fields”</em> describes the fields for the total catch and catch by species tables.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Write R data object to csv</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="fu">expalg.cie</span><span class="fu">::</span><span class="va"><a href="reference/g_bb_exp.html">g_bb_exp</a></span>, file<span class="op">=</span><span class="st">"G_BB_EXP.csv"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="fu">expalg.cie</span><span class="fu">::</span><span class="va"><a href="reference/g_bb_spc.html">g_bb_spc</a></span>, file<span class="op">=</span><span class="st">"G_BB_SPC.csv"</span><span class="op">)</span></code></pre></div>
<p>The main function wrapper <code><a href="reference/run_expalg.html">run_expalg()</a></code> will return a list of two data frames, <code>bb_exp</code> (representing “expansion”: the total catch for each estimation domain) and <code>bb_spc</code> (representing “species_composition”: the total catch by species for each estimation domain). The data frames can be manipulated and output as desired.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/PIFSCstockassessments/expalg.cie">expalg.cie</a></span><span class="op">)</span>
<span class="va">guam</span> <span class="op">&lt;-</span><span class="fu"><a href="reference/run_expalg.html">run_expalg</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># load w/ defaults</span>

<span class="co"># Set "Exapansion" or "Species Composition" data frames as indvidual R data.tables</span>
<span class="va">guam_expansion</span> <span class="op">&lt;-</span> <span class="va">guam</span><span class="op">$</span><span class="va">bb_exp</span>
<span class="va">guam_species</span> <span class="op">&lt;-</span> <span class="va">guam</span><span class="op">$</span><span class="va">bb_spc</span>

<span class="co"># Write data.frames to file</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">guam_expansion</span>, file<span class="op">=</span><span class="st">"out_guam_exp.csv"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">guam_species</span>, file<span class="op">=</span><span class="st">"out_guam_spc.csv"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="github-disclaimer" class="section level1">
<h1 class="hasAnchor">
<a href="#github-disclaimer" class="anchor"></a>GitHub Disclaimer</h1>
<p>This repository is a scientific product and is not official communication of the National Oceanic and Atmospheric Administration, or the United States Department of Commerce. All NOAA GitHub project code is provided on an ‘as is’ basis and the user assumes responsibility for its use. Any claims against the Department of Commerce or Department of Commerce bureaus stemming from the use of this GitHub project will be governed by all applicable Federal law. Any reference to specific commercial products, processes, or services by servicemark, trademark, manufacturer, or otherwise, does not constitute or imply their endorsement, recommendation or favoring by the Department of Commerce. The Department of Commerce seal and logo, or the seal and logo of a DOC bureau, shall not be used in any manner to imply endorsement of any commercial product or activity by DOC or the United States Government.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/PIFSCstockassessments/expalg.cie/">https://​github.com/​PIFSCstockassessments/​expalg.cie/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/PIFSCstockassessments/expalg.cie/issues">https://​github.com/​PIFSCstockassessments/​expalg.cie/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Toby Mathews <br><small class="roles"> Author </small>  </li>
<li>Hongguang Ma <br><small class="roles"> Author </small>  </li>
<li>Felipe Carvalho <br><small class="roles"> Author </small>  </li>
<li>Eric Fletcher <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Toby Mathews, Hongguang Ma, Felipe Carvalho, Eric Fletcher.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
